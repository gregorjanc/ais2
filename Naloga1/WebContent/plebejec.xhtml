<!DOCTYPE html>
<html xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:p="http://primefaces.org/ui">

<script> $.noConflict(); </script>
<ui:composition template="WEB-INF/template/template.xhtml">

	<ui:define name="content">
		<f:view>
			<h:form>
				<h1>Pregled uporabnika</h1>
				
				Uporabnik:
				<h:selectOneMenu value="#{pleb.izbranClan}">
					<f:selectItems value="#{pleb.clani}" var="clan"
						itemValue="#{clan.id}" itemLabel="#{clan}"></f:selectItems>

				</h:selectOneMenu>

				<h:commandButton value="Izberi" actionListener="#{pleb.izberiPleba}" />

				<h3>dodajanje nove meritve</h3>
				
				Datum meritve:	<input type="date" jsf:value="#{pleb.c.time}">
				<f:convertDateTime pattern="yyyy-MM-dd" />
				</input>
				<br />
			Telesna visina:	<h:inputText id="visina" value="#{pleb.visina}"
					validatorMessage="Visina?" converterMessage="To ni stevilo">
					<f:validateRequired />
				</h:inputText>*
			<h:message for="visina" />
				<br />
			Obseg pasu:	<h:inputText id="obseg" value="#{pleb.obseg}"
					validatorMessage="Obseg?" converterMessage="To ni stevilo">
					<f:validateRequired />
				</h:inputText>*
			<h:message for="obseg" />
				<br />
			Teza:	<h:inputText id="teza" value="#{pleb.teza}"
					validatorMessage="Teza?" converterMessage="To ni stevilo">
					<f:validateRequired />
				</h:inputText>*
			<h:message for="teza" />
				<br />
				<h:commandButton value="Dodaj" actionListener="#{pleb.dodajMeritev}" />


				<br />



				<h3>pregled meritev</h3>



				<h:dataTable value="#{pleb.seznamMeritve}" var="m">


					<h:column>
						<f:facet name="header">Datum meritve</f:facet>

						<h:outputText value="#{m.datum}"></h:outputText>

					</h:column>
					<h:column>
						<f:facet name="header">Teza</f:facet>

						<h:outputText value="#{m.teza}"></h:outputText>

					</h:column>
					<h:column>
						<f:facet name="header">Obseg pasu</f:facet>

						<h:outputText value="#{m.obsegPasu}"></h:outputText>

					</h:column>
					<h:column>
						<f:facet name="header">Visina</f:facet>

						<h:outputText value="#{m.telesnaVisina}"></h:outputText>

					</h:column>

				</h:dataTable>







				<h3>graf teze in ITM</h3>
				Od:	<input type="date" jsf:value="#{pleb.odDatuma.time}">
				<f:convertDateTime pattern="yyyy-MM-dd" />
				</input>
				Do:	<input type="date" jsf:value="#{pleb.doDatuma.time}">
				<f:convertDateTime pattern="yyyy-MM-dd" />
				</input>
				<h:commandButton value="Izberi" actionListener="#{pleb.izberiObdobje}" />
				<h:commandButton value="Preklopi prikaz" actionListener="#{pleb.preklopiPrikaz}" />
				

				<h:dataTable value="#{pleb.uporabaIteratorja}" var="m">

					<h:column>
						<f:facet name="header">Datum meritve</f:facet>

						<h:outputText value="#{m.datum}"></h:outputText>

					</h:column>
					<h:column>
						<f:facet name="header">Teza</f:facet>

						<h:outputText value="#{m.teza}"></h:outputText>

					</h:column>
					<h:column>
						<f:facet name="header">Obseg pasu</f:facet>

						<h:outputText value="#{m.obsegPasu}"></h:outputText>

					</h:column>
					<h:column>
						<f:facet name="header">Visina</f:facet>

						<h:outputText value="#{m.telesnaVisina}"></h:outputText>

					</h:column>

				</h:dataTable>
				
				  <p:chart type="line" model="#{pleb.lineModel}" style="height:300px;" />  
			
			</h:form>
		</f:view>
	</ui:define>
</ui:composition>
</html>